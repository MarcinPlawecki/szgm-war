<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/resources/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="java.sun.com/jsp/jstl/functions">
    
    <ui:define name="body_content">
		<div id="container">
			<div id="content">
    		
			<h:form>
			<h:panelGrid columns="3">
				<h:outputLabel for="nazwa" value="Nazwa:" />  
				<h:inputText id = "nazwa" value="#{towar.nazwa}">
					<f:validateRegex pattern='#{konfiguracja.getFieldRegex("towar.nazwa.regex")}'/>
				</h:inputText>
				<p:message for="nazwa" />  
            	
				<h:outputLabel for="cena" value="Cena:" />
				<h:inputText id="cena" value="#{towar.cenaNetto}">
				</h:inputText>
				<h:outputText value="" />
				Vat: <h:selectOneMenu value="#{towar.vat}">
   						<f:selectItems value="#{vat.getList()}" var="v"
   						itemLabel="#{v.nazwa}" itemValue="#{v}" />
   						<f:converter converterId="vatConverter" />
   					</h:selectOneMenu>
   				<h:outputText value="" />
   				<h:outputLabel for="pkwiu" value="PKWiU:" />
				<h:inputText id="pkwiu" value="#{towar.pkwiu}">
					<f:validateRegex pattern='#{konfiguracja.getFieldRegex("towar.nazwa.pkwiu")}'/>
				</h:inputText>
				<h:outputText value="" />
				Jednostka: <h:selectOneMenu value="#{towar.jednostka}">
   						<f:selectItems value="#{jednostka.getList()}" var="j"
   						itemLabel="#{j.nazwa}" itemValue="#{j}" />
   						<f:converter converterId="jednostkaConverter" />
   					</h:selectOneMenu>
   					<h:outputText value="" />
				Waluta: <h:selectOneMenu value="#{towar.waluta}">
   						<f:selectItems value="#{waluta.getList()}" var="w"
   						itemLabel="#{w.nazwa}" itemValue="#{w}" />
   						<f:converter converterId="walutaConverter" />
   					</h:selectOneMenu>
   					<h:outputText value="" />
				<h:outputLabel for="cenazakupu" value="Cena Zakupu:" />
				<h:inputText id="cenazakupu" value="#{towar.cenaZakupu}">
				</h:inputText>
				<h:outputText value="" />
				Pytaj O Cenę: <h:selectOneMenu value="#{towar.pytajOCene}">
   						<f:selectItem itemValue="1" itemLabel="Tak" />
					   	<f:selectItem itemValue="0" itemLabel="Nie" />
					</h:selectOneMenu>
					<h:outputText value="" />
				Aktywny: <h:selectOneMenu value="#{towar.aktywny}">
   						<f:selectItem itemValue="1" itemLabel="Tak" />
					   	<f:selectItem itemValue="0" itemLabel="Nie" />
					</h:selectOneMenu>
					<h:outputText value="" />
				Promocja: <h:selectOneMenu value="#{towar.promocja}">
   						<f:selectItem itemValue="1" itemLabel="Tak" />
					   	<f:selectItem itemValue="0" itemLabel="Nie" />
					</h:selectOneMenu>
					<h:outputText value="" />
				Grupa: <h:selectOneMenu value="#{towar.grupa}">
   						<f:selectItems value="#{grupa.getList()}" var="g"
   						itemLabel="#{g.nazwa}" itemValue="#{g}" />
   						<f:converter converterId="grupaConverter" />
   					</h:selectOneMenu>
   					<h:outputText value="" />
				<h:outputLabel for="kodkreskowy" value="Kod Kreskowy:" />
				<h:inputText id="kodkreskowy" value="#{towar.kodKreskowy}">
					<f:validateRegex pattern='#{konfiguracja.getFieldRegex("towar.nazwa.kod.kreskowy")}'/>
				</h:inputText>
				<h:outputText value="" />
    			<h:commandButton value="Zatwierdź" action="#{towar.addTowar}" />
    	  	</h:panelGrid>
    	  	</h:form>
    		
			</div><!-- #content-->
		</div><!-- #container-->

		<aside id="sideLeft">
		<ul>
			<h:outputLink value="/SZGM/towary/list.xhtml" rendered="#{p:ifGranted('TOWARY_LISTA')}"><li>Lista Towarów</li></h:outputLink>
			<h:outputLink value="/SZGM/towary/etykiety.xhtml" rendered="#{p:ifGranted('WYDRUK_ETYKIET')}"><li>Wydruk Etykiet</li></h:outputLink>
			<h:outputLink value="/SZGM/towary/import.xhtml" rendered="#{p:ifGranted('TOWARY_IMPORT')}"><li>Import</li></h:outputLink>
			<h:outputLink value="/SZGM/towary/export.xhtml" rendered="#{p:ifGranted('TOWARY_EXPORT')}"><li>Export</li></h:outputLink>
		</ul>
		</aside><!-- #sideLeft -->
    </ui:define>

</ui:composition>

</html>